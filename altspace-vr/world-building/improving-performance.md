---
title: 提高世界性能
description: 了解如何使用诊断工具测量、排查和提高 AltspaceVR 的性能。
ms.date: 03/11/2021
ms.topic: article
keywords: 性能，故障排除
ms.openlocfilehash: 558ce2e089aecc206445c6b7bf99423f2d5c45cc
ms.sourcegitcommit: d84a6adf631ff02b106e682238f2861477caef1e
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 04/08/2021
ms.locfileid: "107211731"
---
# <a name="improving-world-performance"></a><span data-ttu-id="0ba29-104">提高世界性能</span><span class="sxs-lookup"><span data-stu-id="0ba29-104">Improving world performance</span></span>

<span data-ttu-id="0ba29-105">我们希望人们可以获得良好的性能，也可以在 VR 耳机上运行，这很有意义。</span><span class="sxs-lookup"><span data-stu-id="0ba29-105">We want people to have a good experience so performance, or how well your World runs on VR headsets, matters immensely.</span></span> <span data-ttu-id="0ba29-106">我们的世界建筑系统旨在实现最常见的用例性能。</span><span class="sxs-lookup"><span data-stu-id="0ba29-106">Our World Building system is designed for great performance for most common use cases.</span></span> <span data-ttu-id="0ba29-107">如果希望最大程度地显示，本指南适用于你。</span><span class="sxs-lookup"><span data-stu-id="0ba29-107">If you're looking to maximize Presence, this guide is for you.</span></span> <span data-ttu-id="0ba29-108">Altspace aspires 支持每个硬件平台。</span><span class="sxs-lookup"><span data-stu-id="0ba29-108">Altspace aspires to support every hardware platform.</span></span> <span data-ttu-id="0ba29-109">尽管我们鼓励世界建筑商推送限制，但对于公有领域，我们建议你将 Oculus 的请求和任何基于 PC 的平台（如 Windows Mixed Reality、Oculus Rift/Rift）或 HTC Naopak 作为目标。</span><span class="sxs-lookup"><span data-stu-id="0ba29-109">While we encourage World Builders to push the limits, for public Worlds we recommend you target the Oculus Quest and any PC-based platform like Windows Mixed Reality, Oculus Rift/Rift S, or HTC Vive.</span></span> <span data-ttu-id="0ba29-110">为简单起见，如果你的世界运行良好，则很可能会 Altspace。</span><span class="sxs-lookup"><span data-stu-id="0ba29-110">To keep it simple, if your World runs well on a Quest, it's probably great for Altspace.</span></span>

## <a name="tools-and-measurement"></a><span data-ttu-id="0ba29-111">工具和度量</span><span class="sxs-lookup"><span data-stu-id="0ba29-111">Tools and Measurement</span></span>

<span data-ttu-id="0ba29-112">管理员诊断是网站上可用的脱机工具 altvr.com。</span><span class="sxs-lookup"><span data-stu-id="0ba29-112">Administrator Diagnostics is an offline tool available on our website, altvr.com.</span></span> <span data-ttu-id="0ba29-113">如果你导航到世界 [> 我](https://account.altvr.com/users/sign_in)的世界，找到你的世界，然后选择 "诊断"，你会看到如下所示的内容：</span><span class="sxs-lookup"><span data-stu-id="0ba29-113">If you navigate to [Worlds > My Worlds](https://account.altvr.com/users/sign_in), find your World, and select “Diagnostics”, you'll see something like this:</span></span>

![管理员诊断窗口](images/performance.png)

<span data-ttu-id="0ba29-115">这些准则比要求更多。</span><span class="sxs-lookup"><span data-stu-id="0ba29-115">These are more guidelines than requirements.</span></span> <span data-ttu-id="0ba29-116">性能取决于您拥有的对象数以及它们的排列方式。</span><span class="sxs-lookup"><span data-stu-id="0ba29-116">Performance depends on how many Objects you have and how they're arranged.</span></span> <span data-ttu-id="0ba29-117">例如，如果有500个对象分布在2千米以上，则性能可能会很好。</span><span class="sxs-lookup"><span data-stu-id="0ba29-117">For example, if you have 500 objects spread out over 2 kilometers, the performance will probably be fine.</span></span> <span data-ttu-id="0ba29-118">但是，如果将相同的500对象置于紧密打包的区域中，则可能会出现问题。</span><span class="sxs-lookup"><span data-stu-id="0ba29-118">However, if you put the same 500 objects into a tightly packed area, you'll likely see problems.</span></span> <span data-ttu-id="0ba29-119">这是因为，性能取决于人员的 "视图" 字段中的内容。</span><span class="sxs-lookup"><span data-stu-id="0ba29-119">That’s because performance depends on what's within a person's Field of View.</span></span> <span data-ttu-id="0ba29-120">测试的最佳方式是跳转到 Altspace，并在世界各地进行传送。</span><span class="sxs-lookup"><span data-stu-id="0ba29-120">The best way to test is to hop into Altspace and teleport around your World.</span></span> <span data-ttu-id="0ba29-121">如果你注意到任何 glitching 或感觉到任何 discomfort，这些都是需要调查的问题。</span><span class="sxs-lookup"><span data-stu-id="0ba29-121">If you notice any glitching or feel any discomfort, those are problem spots you'll want to investigate.</span></span>

<span data-ttu-id="0ba29-122">通过坚持这些建议，你自行设置了成功。</span><span class="sxs-lookup"><span data-stu-id="0ba29-122">By sticking to these recommendations, you set yourself up for success.</span></span> <span data-ttu-id="0ba29-123">接下来，我们从一个真正的特色领域获取此示例诊断：</span><span class="sxs-lookup"><span data-stu-id="0ba29-123">Let’s go over this sample diagnostic taken from an actual Featured World:</span></span> 

* <span data-ttu-id="0ba29-124">**对象** -世界中的对象总数。</span><span class="sxs-lookup"><span data-stu-id="0ba29-124">**Objects** - Total number of Objects in the World.</span></span> <span data-ttu-id="0ba29-125">一切都是对象--项目、照片、生成点等。</span><span class="sxs-lookup"><span data-stu-id="0ba29-125">Everything is an Object--Artifacts, Photos, Spawn Points, and so on.</span></span> <span data-ttu-id="0ba29-126">建议你保持在某个数字以下，但这是灵活的。</span><span class="sxs-lookup"><span data-stu-id="0ba29-126">We recommend you stay under a certain number but this is flexible.</span></span> <span data-ttu-id="0ba29-127">如果继续，我们将用一个黄色感叹号表示我们的关注点，如下所示。</span><span class="sxs-lookup"><span data-stu-id="0ba29-127">If you go over, we indicate our concern with a yellow exclamation mark, as shown here.</span></span> <span data-ttu-id="0ba29-128">但是，在这种情况下，这种世界有两个不同的区域，所以密度并不高。</span><span class="sxs-lookup"><span data-stu-id="0ba29-128">However, in this case, there are two separate areas in this World so the density isn’t high.</span></span>
* <span data-ttu-id="0ba29-129">**工具包** -使用的唯一世界建筑套件总数。</span><span class="sxs-lookup"><span data-stu-id="0ba29-129">**Kits** - Total number of unique World-Building Kits used.</span></span> <span data-ttu-id="0ba29-130">这会影响加载世界时的初始下载时间。</span><span class="sxs-lookup"><span data-stu-id="0ba29-130">This impacts initial download time when loading the World.</span></span> <span data-ttu-id="0ba29-131">包包含项目，可以在世界中生成的对象的菜单。</span><span class="sxs-lookup"><span data-stu-id="0ba29-131">Kits contain Artifacts, the menu of Objects you can spawn into the World.</span></span> 

> [!NOTE] 
> <span data-ttu-id="0ba29-132">如果从工具包使用单个项目，则需要下载该工具包的资产。</span><span class="sxs-lookup"><span data-stu-id="0ba29-132">If a single Artifact is used from a Kit, that Kit’s assets need to be downloaded.</span></span> <span data-ttu-id="0ba29-133">因此，只需使用单个工具包中的几个项目，就极其了。</span><span class="sxs-lookup"><span data-stu-id="0ba29-133">So it's awfully expensive to just use a few Artifacts from a single Kit.</span></span> 

* <span data-ttu-id="0ba29-134">**工具包--移动** -在进入世界之前，某个人在其上必须下载的所有工具包资产的总大小。</span><span class="sxs-lookup"><span data-stu-id="0ba29-134">**Kits--Mobile** - Total size of all the Kit assets that a person on a Quest has to download before entering the World.</span></span> <span data-ttu-id="0ba29-135">请尝试不要让人们等待5分钟，下载所需的所有内容。</span><span class="sxs-lookup"><span data-stu-id="0ba29-135">Try not to make people wait 5 minutes to download everything they need for your World.</span></span>
* <span data-ttu-id="0ba29-136">**照片** -使用的照片总数，比项目更高的性能影响。</span><span class="sxs-lookup"><span data-stu-id="0ba29-136">**Photos** - Total number of photos used, which tend to have a higher performance impact than Artifacts.</span></span> <span data-ttu-id="0ba29-137">请慎用。</span><span class="sxs-lookup"><span data-stu-id="0ba29-137">Use sparingly.</span></span>
<span data-ttu-id="0ba29-138">模板--Mobile-如果使用的是 Unity 上载程序，请将下载的大小保持在较低的水平。</span><span class="sxs-lookup"><span data-stu-id="0ba29-138">Template--Mobile - If you're using the Unity Uploader, keep the download size low.</span></span>
* <span data-ttu-id="0ba29-139">**Skybox--Mobile** -如果使用的是自定义 Skyboxes，请将文件大小保持较小，使人们不会看到 "黑屏" () 的视频内存。</span><span class="sxs-lookup"><span data-stu-id="0ba29-139">**Skybox--Mobile** - If you're using custom Skyboxes, keep the file size small so people don’t get “black screen” (run out of video memory).</span></span>
* <span data-ttu-id="0ba29-140">**缺少/无效包/项目** -引用有问题的工具包或项目 .。。对指标有一定的看法？</span><span class="sxs-lookup"><span data-stu-id="0ba29-140">**Missing/Invalid Kits/Artifacts** - References to problematic Kits or Artifacts ... Have an idea for a metric?</span></span> <span data-ttu-id="0ba29-141">请告诉我们！</span><span class="sxs-lookup"><span data-stu-id="0ba29-141">Let us know!</span></span>
<span data-ttu-id="0ba29-142">同样，这并不是要求，因此我们会显示绿色、黄色、红色状态图标。</span><span class="sxs-lookup"><span data-stu-id="0ba29-142">Once again, these aren't requirements so we show green, yellow, red status icons.</span></span> <span data-ttu-id="0ba29-143">即使是具有一组红色指示器的世界也可能仍会成为特色。</span><span class="sxs-lookup"><span data-stu-id="0ba29-143">Even a World with a bunch of red indicators may still be featured.</span></span> <span data-ttu-id="0ba29-144">我们在 Altspace 中进行了测试。</span><span class="sxs-lookup"><span data-stu-id="0ba29-144">We test in Altspace so you should too.</span></span> <span data-ttu-id="0ba29-145">[如果需要帮助，请联系我们](getting-help.md)。</span><span class="sxs-lookup"><span data-stu-id="0ba29-145">[Reach out to us if you need help](getting-help.md).</span></span> 

## <a name="load-time"></a><span data-ttu-id="0ba29-146">加载时间</span><span class="sxs-lookup"><span data-stu-id="0ba29-146">Load Time</span></span>

<span data-ttu-id="0ba29-147">当某个人开始出差到您的世界 (尝试输入) 时，他们将首先加载该模板。</span><span class="sxs-lookup"><span data-stu-id="0ba29-147">When a person starts traveling to your world (attempts to enter), they'll first load the Template.</span></span> <span data-ttu-id="0ba29-148">他们将) 的平台下载模板资产 (文件，并参阅 "加载环境"。</span><span class="sxs-lookup"><span data-stu-id="0ba29-148">They'll download the Template assets (files) for their platform and see “Loading Environment”.</span></span> <span data-ttu-id="0ba29-149">然后，他们将下载 Skybox 和套件资产。</span><span class="sxs-lookup"><span data-stu-id="0ba29-149">Then they'll download the Skybox and Kit assets.</span></span> <span data-ttu-id="0ba29-150">最后，它们会加载所有对象，同时看到 "正在加载对象"。</span><span class="sxs-lookup"><span data-stu-id="0ba29-150">Finally, they'll load all the Objects while they see “Loading Objects”.</span></span> <span data-ttu-id="0ba29-151">下载所有资产可能需要花费几分钟时间，具体取决于其 internet 带宽—对象加载非常简单。</span><span class="sxs-lookup"><span data-stu-id="0ba29-151">Downloading all the assets can take upwards of a few minutes depending on their internet bandwidth—Object loading is fairly quick.</span></span> <span data-ttu-id="0ba29-152">尽管这些资产从世界各地的所有快速服务器上下载，但 Altspace 使用缓存技术来避免重复 redownloading 同一文件。</span><span class="sxs-lookup"><span data-stu-id="0ba29-152">While the assets download from fast servers all around the world, Altspace uses caching techniques to avoid redownloading the same files repeatedly.</span></span> <span data-ttu-id="0ba29-153">从技术上说，初始加载时间不会影响人员进入世界后的性能，但它是总体体验的一部分，因此，在向你的世界旅行时，请不要让人们等待太长时间。</span><span class="sxs-lookup"><span data-stu-id="0ba29-153">Technically, initial load time doesn't affect a person’s performance after they enter the World, but it’s part of the overall experience so try not to make people wait too long when traveling to your World.</span></span> <span data-ttu-id="0ba29-154">建议你仔细考虑要使用哪些工具包，并通过使用更少的内容来创新。</span><span class="sxs-lookup"><span data-stu-id="0ba29-154">We suggest you think carefully about what Kits to use and be imaginative by doing more with less.</span></span>

## <a name="troubleshooting-and-tips"></a><span data-ttu-id="0ba29-155">疑难解答和提示</span><span class="sxs-lookup"><span data-stu-id="0ba29-155">Troubleshooting and Tips</span></span>

<span data-ttu-id="0ba29-156">**有人看到 "黑屏"** 通常，这是因为设备已耗尽视频内存。</span><span class="sxs-lookup"><span data-stu-id="0ba29-156">**People are seeing a “black screen”** Typically, this is because the device ran out of video memory.</span></span> <span data-ttu-id="0ba29-157">尝试减少世界上问题范围内的对象数，并减少 Skybox 或模板或照片数量等对象的大小。</span><span class="sxs-lookup"><span data-stu-id="0ba29-157">Try to reduce the number of Objects in the problem area of the World and reduce the sizes of things like your Skybox or Template or the number of Photos.</span></span> <span data-ttu-id="0ba29-158">这些类型倾向于对视频内存使用率产生最大的影响。</span><span class="sxs-lookup"><span data-stu-id="0ba29-158">Those types tend to have the highest impact on video memory usage.</span></span>

<span data-ttu-id="0ba29-159">**有人崩溃**</span><span class="sxs-lookup"><span data-stu-id="0ba29-159">**People are crashing**</span></span>
    * <span data-ttu-id="0ba29-160">有时，包或项目可能会导致此问题。</span><span class="sxs-lookup"><span data-stu-id="0ba29-160">Sometimes a broken Kit or Artifact can cause this.</span></span>
    * <span data-ttu-id="0ba29-161">令人古怪的着色器或动画也可能导致此问题。</span><span class="sxs-lookup"><span data-stu-id="0ba29-161">Crazy shaders or animations might cause this too.</span></span>
    * <span data-ttu-id="0ba29-162">了解自定义模板和工具包中的情况。</span><span class="sxs-lookup"><span data-stu-id="0ba29-162">Watch out for things in custom Templates and Kits.</span></span>
    * <span data-ttu-id="0ba29-163">经常备份您的环境，尤其是在早期开发过程中。</span><span class="sxs-lookup"><span data-stu-id="0ba29-163">Back up your World often, especially during early development.</span></span> <span data-ttu-id="0ba29-164">使用这些备份在最近添加的内容上进行改进，导致用户发生崩溃。</span><span class="sxs-lookup"><span data-stu-id="0ba29-164">Use those backups to hone in on what you have added recently that is causing people to crash.</span></span>

<span data-ttu-id="0ba29-165">**保留 "空间"**</span><span class="sxs-lookup"><span data-stu-id="0ba29-165">**Leave “headroom”**</span></span>
    * <span data-ttu-id="0ba29-166">请记住，世界上可能有20-30 人。</span><span class="sxs-lookup"><span data-stu-id="0ba29-166">Remember that you may have 20-30 people in the World at the same time.</span></span> <span data-ttu-id="0ba29-167">如果所有人都是围绕 campfire huddled 的。</span><span class="sxs-lookup"><span data-stu-id="0ba29-167">What if all those people were huddled around a campfire.</span></span> <span data-ttu-id="0ba29-168">是否仍要将 200 pebbles</span><span class="sxs-lookup"><span data-stu-id="0ba29-168">Would you still want to put 200 pebbles by the fire?</span></span> <span data-ttu-id="0ba29-169">可能并不是一个好主意。</span><span class="sxs-lookup"><span data-stu-id="0ba29-169">Probably not a good idea.</span></span> <span data-ttu-id="0ba29-170">为头像和 Interactables (留出一些空间，例如 basketballs) 。</span><span class="sxs-lookup"><span data-stu-id="0ba29-170">Leave some room for Avatars and Interactables (like basketballs).</span></span>
    * <span data-ttu-id="0ba29-171">少即是多。</span><span class="sxs-lookup"><span data-stu-id="0ba29-171">Less is more.</span></span>

<span data-ttu-id="0ba29-172">**提前计划** 考虑要创建的内容并将其放在一起。在 Altspace 中，可以轻松地进行浏览。</span><span class="sxs-lookup"><span data-stu-id="0ba29-172">**Plan Ahead** Think about what you want to create and space things out. It's easy to get around in Altspace.</span></span>

<span data-ttu-id="0ba29-173">**尽早使用诊断工具** 将它做成书签并在一段时间内刷新一次。</span><span class="sxs-lookup"><span data-stu-id="0ba29-173">**Use the Diagnostics Tool Early and Often** Bookmark it and refresh it once in a while.</span></span> <span data-ttu-id="0ba29-174">最终，类似的工具将存在于 VR 中，这会更易于访问。</span><span class="sxs-lookup"><span data-stu-id="0ba29-174">Eventually, similar tools will exist in VR that will be more accessible.</span></span>

<span data-ttu-id="0ba29-175">**让 Oculus 的用户获得朋友** 邀请他们进入您的世界以帮助您进行测试。</span><span class="sxs-lookup"><span data-stu-id="0ba29-175">**Make friends with Oculus Quest users** Invite them to come into your World to help you test.</span></span> <span data-ttu-id="0ba29-176">测试和经常测试！</span><span class="sxs-lookup"><span data-stu-id="0ba29-176">Test thoroughly and often!</span></span> <span data-ttu-id="0ba29-177">测试彼此的世界！</span><span class="sxs-lookup"><span data-stu-id="0ba29-177">Test each others’ Worlds!</span></span> <span data-ttu-id="0ba29-178">不能对真正的内容进行测试。</span><span class="sxs-lookup"><span data-stu-id="0ba29-178">Nothing beats testing on the real thing.</span></span>

<span data-ttu-id="0ba29-179">为 **世界各地的 "管理员" 添加朋友** 编辑你的世界，并将你的好友添加到管理列表。</span><span class="sxs-lookup"><span data-stu-id="0ba29-179">**Add friends as "Admins" for your World** Edit your world and add your friends to the Admin list.</span></span> <span data-ttu-id="0ba29-180">这会让他们看到你的世界的诊断工具。</span><span class="sxs-lookup"><span data-stu-id="0ba29-180">This will let them see the Diagnostics tool for your World.</span></span> <span data-ttu-id="0ba29-181">不过，请注意，因为他们还可以编辑您世界的其他方面。</span><span class="sxs-lookup"><span data-stu-id="0ba29-181">Be careful though because they can also edit other aspects of your World.</span></span> 

<span data-ttu-id="0ba29-182">**性能优化非常困难，因此我们的社区渴望帮助** 加入 [官方 AltspaceVR Discord](https://discordapp.com/invite/altspacevr) \* 访问 #world 构建通道，以获取有关世界的常规帮助。</span><span class="sxs-lookup"><span data-stu-id="0ba29-182">**Performance optimization is hard so our community is eager to help** Join the [Official AltspaceVR Discord](https://discordapp.com/invite/altspacevr) \*Visit the #world-building channel for general assistance with worlds.</span></span>
    * <span data-ttu-id="0ba29-183">有关更多技术和 Unity 上载程序的帮助 (模板和自定义工具包的详细信息，请访问 MRE SDK 通道) </span><span class="sxs-lookup"><span data-stu-id="0ba29-183">Visit the MRE SDK channels for specific assistance with more technical and Unity Uploader related help (Templates and custom Kits)</span></span>